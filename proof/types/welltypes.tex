\begin{figure}[h]
\scriptsize
\hrule
\begin{mathpar}
			\inferrule*[left=\wftitle{Class}]
			{
			  \kwclass\ \Cname\ \espec\ \kwextends\ \Dname\ \dots \in \programcode \\
        \Feparam(\espec) = \listi' \\ \Fcons(\espec) = \cset' \\
        \cset \models \cset'\subst{\listi'}{\overline{\basemode}} \\
        \cset \judgewft \Dname\lb\overline{\basemode}\rb \\
			}
			{
        \cset \judgewft \Cname\lb\overline{\basemode}\rb
      } 
      \\

      \inferrule*[left=\wftitle{ClassDyn}]
			{
			  \kwclass\ \Cname\ \dynmode\rightarrow\econs,\espec\ \kwextends\ \Dname \dots \in \programcode \\
        \Feparam(\dynmode\rightarrow\econs,\espec) = \dynmode,\listi' \\ 
        \Fcons(\espec) = \cset' \\
        \cset \models \cset'\subst{\listi'}{\overline{\basemode}} \\
        \cset \judgewft \Dname\lb\dynmode,\overline{\basemode}\rb \\
			}
			{ 
        \cset \judgewft \Cname\lb\dynmode,\overline{\basemode}\rb 
      }
      \\ 

			\inferrule*[left=\wftitle{Top}]
			{}
			{\cset \judgewft \Nobject \lb \basemode \rb} 
      \\

      \inferrule*[left=\wftitle{Exist}]
			{
        \econs = \basemode_1\msub\mtvar\msub\basemode_2 \\
        \cset = \cset'\cup\{\basemode_1\msub\mtvar,\mtvar\msub\basemode_2\} \\ \mtvar \not\in\cset' \\
        \cset' \judgewft \classdyn \\
        \cset \judgewfti \Cname\lb\mtvar,\listi\rb \\
      }
			{
        \cset \judgewft \texist{\econs}.\classdyn
      }

      \inferrule*[left=\wftitle{MCase}]
			{\cset \judgewft \bt}
			{\cset \judgewft \tmcase{\bt} }
%      \\
%
%      \inferrule*[left=\wftitle{ModeBase}]
%      {}
%      {\tspec \judgewft \bot \msub \basemode \msub \top}

\end{mathpar}

\caption{External Type Well-Formedness}
\label{fig:welltypes}
\end{figure}
